package com.jbit.meitao.service.backexploit.impl;

import com.jbit.meitao.error.BusinessException;
import com.jbit.meitao.error.EmBusinessError;
import com.jbit.meitao.mapper.ProductMapper;
import com.jbit.meitao.pojo.Product;
import com.jbit.meitao.service.backexploit.ProductService;
import org.springframework.stereotype.Service;

import javax.annotation.Resource;
import java.util.List;

@Service
public class ProductServiceImpl implements ProductService {
    @Resource
    private ProductMapper productMapper;

    @Override
    public List<Product> findProductByLimit() {

        return productMapper.selectByExample(null);
    }

    /**
     * 添加的方法
     *
     * @param product
     */
    @Override
    public void addProduct(Product product) throws BusinessException {
        if (product == null) {
            throw new BusinessException(EmBusinessError.PARAMETER_VALIDATION_ERROR, "商品添加的参数不合法");
        }
        int insert = productMapper.insertSelective(product);
        if (insert != 1) {
            throw new BusinessException(EmBusinessError.PARAMETER_VALIDATION_ERROR, "商品添加失败");
        }
    }

    @Override
    public List<Product> findProductBy() {
        return null;
    }
}
